<!doctype html>
<!--
  Prediction form page
  - Uses Bootstrap 5 and icons
  - Sidebar/header shows project title and short instructions
  - Form posts to /predict (POST) which is handled by the backend unchanged
-->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Predict — Customer Churn Predictor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link href="/static/css/style.css" rel="stylesheet">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="/">
          <i class="bi bi-graph-up me-2 fs-3"></i>
          <span>Customer Churn Predictor</span>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navmenu">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navmenu">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
            <li class="nav-item"><a class="nav-link active" href="/predict">Predict</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="mt-5 pt-4">
      <div class="container">
        <div class="row">
          <!-- Sidebar -->
          <aside class="col-lg-4 mb-4">
            <div class="card sticky-top" style="top:80px;">
              <div class="card-body text-center">
                <i class="bi bi-person-lines-fill fs-1 text-primary"></i>
                <h5 class="card-title mt-2">Customer Churn Predictor</h5>
                <p class="text-muted small">Enter the customer's attributes on the right and click Predict. The app will preprocess inputs the same way as the reference notebook and return a churn prediction.</p>

                <hr/>
                <div class="text-start">
                  <h6 class="mb-1">Model</h6>
                  <p class="mb-1"><span class="badge bg-secondary">LightGBM</span></p>
                  <p class="small text-muted mb-0">F1: <strong>0.60</strong> • Acc: <strong>0.86</strong></p>
                </div>
              </div>
            </div>
          </aside>

          <!-- Form -->
          <section class="col-lg-8">
            <div class="card shadow-sm">
              <div class="card-body">
                <h4 class="card-title mb-3">Prediction Form</h4>

                <!-- The form submits to POST /predict (backend unchanged) -->
                <form action="/predict" method="post">
                  <div class="row g-3">
                    <div class="col-md-6">
                      <label class="form-label">Credit Score</label>
                      <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-speedometer2"></i></span>
                        <input name="credit_score" class="form-control" placeholder="e.g. 650">
                      </div>
                    </div>

                    <div class="col-md-6">
                      <label class="form-label">Country</label>
                      <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-geo-alt"></i></span>
                        <select name="country" class="form-select">
                          {% for c in countries %}
                          <option value="{{c}}">{{c}}</option>
                          {% endfor %}
                        </select>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <label class="form-label">Gender</label>
                      <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
                        <select name="gender" class="form-select">
                          {% for g in genders %}
                          <option value="{{g}}">{{g}}</option>
                          {% endfor %}
                        </select>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <label class="form-label">Age</label>
                      <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-calendar3"></i></span>
                        <input name="age" class="form-control" placeholder="e.g. 34">
                      </div>
                    </div>

                    <div class="col-md-4">
                      <label class="form-label">Tenure (years)</label>
                      <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-clock"></i></span>
                        <input name="tenure" class="form-control" placeholder="e.g. 3">
                      </div>
                    </div>

                    <div class="col-md-4">
                      <label class="form-label">Account Balance</label>
                      <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-bank2"></i></span>
                        <input name="acc_balance" class="form-control" placeholder="e.g. 120000">
                      </div>
                    </div>

                    <div class="col-md-4">
                      <label class="form-label">Product Count</label>
                      <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-box-seam"></i></span>
                        <input name="prod_count" class="form-control" placeholder="e.g. 2">
                      </div>
                    </div>

                    <div class="col-md-6">
                      <label class="form-label">Has Card</label>
                      <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-credit-card-2-front"></i></span>
                        <select name="has_card" class="form-select">
                          <option value="1">1 (Yes)</option>
                          <option value="0">0 (No)</option>
                        </select>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <label class="form-label">Is Active</label>
                      <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-toggle-on"></i></span>
                        <select name="is_active" class="form-select">
                          <option value="1">1 (Active)</option>
                          <option value="0">0 (Inactive)</option>
                        </select>
                      </div>
                    </div>

                    <div class="col-md-12">
                      <label class="form-label">Estimated Salary</label>
                      <div class="input-group">
                        <span class="input-group-text"><i class="bi bi-currency-dollar"></i></span>
                        <input name="estimated_salary" class="form-control" placeholder="e.g. 75000">
                      </div>
                    </div>

                    <div class="col-12 text-end mt-3">
                      <button type="submit" class="btn btn-primary"><i class="bi bi-send-fill me-1"></i>Predict</button>
                      <a class="btn btn-outline-secondary" href="/">Back</a>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </section>
        </div>
      </div>
    </main>

    <footer class="mt-5 py-4 bg-light text-muted">
      <div class="container d-flex justify-content-between align-items-center">
        <div>
          <small>© Customer Churn Predictor</small>
        </div>
        <div class="text-end small">
          <span class="me-2">Built with <i class="bi bi-python"></i> Python • <i class="bi bi-flask"></i> Flask • <i class="bi bi-lightning-charge-fill"></i> LightGBM</span>
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
